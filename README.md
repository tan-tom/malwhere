# MalWhere

MalWhereは、サイバーセキュリティの学習を目的としたインタラクティブなマルウェア検知ゲームです。Dockerコンテナ内で様々な異常状況を再現し、プレイヤーがそれらを検知する能力を鍛えることができます。

## 🎯 概要

このゲームでは、プレイヤーはシステム管理者となり、様々なDockerコンテナ環境で異常（anomaly）が発生しているかどうかを判断します。マルウェアの感染やセキュリティ侵害の兆候を見つけ出し、セキュリティ専門家としてのスキルを向上させることが目的です。

## 🚀 機能

- **インタラクティブなTUIインターフェース**: Textualライブラリを使用した美しいターミナルUI
- **Docker環境での安全な実行**: 隔離された環境でマルウェアシミュレーションを実行
- **多様な異常パターン**: 様々なタイプのセキュリティ脅威をシミュレート
- **進捗管理**: 正解数の追跡とゲーム進行状況の管理
- **異常の説明機能**: 検出した異常について詳細な説明を提供

## 📋 要件

- Python 3.12+
- Docker
- Docker Compose（推奨）

## 🔧 インストール

1. リポジトリをクローン:
```bash
git clone https://github.com/tuyo1023/malwhere.git
cd malwhere
```

2. 必要なPythonパッケージをインストール:
```bash
pip install -r requirements.txt
```

3. Dockerが実行されていることを確認:
```bash
docker --version
docker ps
```

## 🎮 使用方法

1. アプリケーションを起動:
```bash
python main.py
```

2. メニューから「ゲームスタート」を選択

3. Dockerコンテナが起動し、シェル環境が表示されます

4. システムを調査し、異常があるかどうかを判断

5. 異常の有無を回答（y/n）

6. 正解すると次の問題に進みます

## 🗂️ プロジェクト構成

```
malwhere/
├── main.py              # メインアプリケーション
├── Gamemanager.py       # ゲーム進行管理
├── screen.py            # UI画面定義
├── docker_handle.py     # Docker操作ハンドラー
├── component.py         # UIコンポーネント
├── Dockerfile           # Dockerイメージ定義
├── requirements.txt     # Python依存関係
├── scripts/             # 異常シミュレーションスクリプト
│   ├── anomaly_*.sh     # 各種異常パターンスクリプト
│   └── init.sh          # 初期化スクリプト
├── descriptions/        # 異常の説明ファイル
├── web/                 # Webコンテンツ（PHP等）
└── style.tcss          # TUIスタイル定義
```

## 🔍 異常パターンの種類

このゲームには以下のような異常パターンが含まれています：

- **プロセス異常**: 不審なプロセスの実行
- **ユーザー追加**: 不正なユーザーアカウントの作成
- **Cronジョブ**: 悪意のあるスケジュールタスク
- **ファイル改ざん**: システムファイルの不正な変更
- **ログ改ざん**: セキュリティログの操作
- **SSH設定変更**: リモートアクセス設定の改ざん
- **Webシェル**: 不正なWebアクセス
- **ランサムウェア**: ファイル暗号化攻撃
- **その他多数のパターン**

## 🎯 学習目標

- **ログ解析スキル**: システムログから異常を検知する能力
- **プロセス監視**: 実行中のプロセスの分析
- **ファイルシステム監査**: ファイルの変更や異常の検出
- **ネットワーク監視**: 不審な通信の識別
- **インシデント対応**: セキュリティ侵害への対処法

## 🛠️ 開発・カスタマイズ

### 新しい異常パターンの追加

1. `scripts/` ディレクトリに新しいシェルスクリプトを追加
2. `descriptions/` ディレクトリに対応する説明ファイルを追加
3. 必要に応じて `main.py` の異常リストを更新

### UI のカスタマイズ

- `screen.py`: 画面レイアウトの変更
- `style.tcss`: TUIのスタイル調整
- `component.py`: UIコンポーネントの追加

## 📄 ライセンス

このプロジェクトはMITライセンスの下で公開されています。

## 🤝 貢献

プルリクエストやイシューの報告を歓迎します。新しい異常パターンのアイデアや改善提案があれば、お気軽にご連絡ください。

## ⚠️ 注意事項

- このアプリケーションは教育目的でのみ使用してください
- 実際の本番環境では使用しないでください
- Dockerコンテナ内でのみ異常を実行し、ホストシステムに影響を与えないよう注意してください

## 📞 サポート

質問や問題がある場合は、GitHubのIssuesタブから報告してください。

---

**Happy Learning! 🎉**

サイバーセキュリティのスキル向上に向けて、楽しみながら学習しましょう！
